{% extends "layout.html" %}

{% block title %}
Add Address
{% endblock title %}

{% block content %}

<div class="container mx-auto px-4 py-8 max-w-3xl">

  <div class="card bg-base-100 shadow-xl">
    <div class="card-body">

      <!-- Title changes depending on create/edit -->
      <h2 class="card-title text-2xl mb-6">Add/Edit Address</h2>

      <form method="post" class="space-y-6">
        {% csrf_token %}

        <!-- Hidden field if you're editing -->
        {% if form.instance.pk %}
        <input type="hidden" name="id" value="{{ form.instance.pk }}">
        {% endif %}

        <!-- Full row fields -->
        <div class="form-control">
          <label class="label">
            <span class="label-text">Full Name <span class="text-error">*</span></span>
          </label>
          {{ form.full_name }}
          {% if form.full_name.errors %}
          <div class="label">
            <span class="label-text-alt text-error">{{ form.full_name.errors|join:" " }}</span>
          </div>
          {% endif %}
        </div>

        <div class="form-control">
          <label class="label">
            <span class="label-text">Phone Number <span class="text-error">*</span></span>
          </label>
          {{ form.phone }}
          {% if form.phone.errors %}
          <div class="label">
            <span class="label-text-alt text-error">{{ form.phone.errors|join:" " }}</span>
          </div>
          {% endif %}
        </div>

        <!-- Address lines -->
        <div class="form-control">
          <label class="label">
            <span class="label-text">Address Line 1 <span class="text-error">*</span></span>
          </label>
          {{ form.address_line }}
          {% if form.address_line.errors %}
          <div class="label">
            <span class="label-text-alt text-error">{{ form.address_line.errors|join:" " }}</span>
          </div>
          {% endif %}
        </div>

        <div class="form-control">
          <label class="label">
            <span class="label-text">Address Line 2 (optional)</span>
          </label>
          {{ form.address_line2 }}
          {% if form.address_line2.errors %}
          <div class="label">
            <span class="label-text-alt text-error">{{ form.address_line2.errors|join:" " }}</span>
          </div>
          {% endif %}
        </div>

        <!-- Town/City + Postcode side by side on larger screens -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

          <div class="form-control">
            <label class="label">
              <span class="label-text">Town / City <span class="text-error">*</span></span>
            </label>
            {{ form.town_city }}
            {% if form.town_city.errors %}
            <div class="label">
              <span class="label-text-alt text-error">{{ form.town_city.errors|join:" " }}</span>
            </div>
            {% endif %}
          </div>

          <div class="form-control">
            <label class="label">
              <span class="label-text">Postal Code <span class="text-error">*</span></span>
            </label>
            {{ form.postcode }}
            {% if form.postcode.errors %}
            <div class="label">
              <span class="label-text-alt text-error">{{ form.postcode.errors|join:" " }}</span>
            </div>
            {% endif %}
          </div>

        </div>

        <!-- Action buttons -->
        <div class="flex flex-wrap gap-4 mt-8">
          <button type="submit" class="btn btn-primary min-w-[140px]">
            Save Address
          </button>

          <a href="#" class="btn btn-outline">
            Cancel
          </a>
        </div>

      </form>

    </div>
  </div>

</div>

{% endblock content %}
